<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sales Report</title>
  <!-- Bootstrap CSS -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Custom CSS */
    /* Add your custom styles here */
  </style>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="#">Sales Report</a>
    </div>
  </nav>

  <!-- Page Content -->
  <div class="container mt-4">
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Generate Sales Report</h5>
            <form id="salesReportForm">
              <div class="form-group">
                <label for="selectMonth">Select Month</label>
                <select class="form-control" id="selectMonth">
                  <!-- Options for selecting month -->
                  <option value="01">January</option>
                  <option value="02">February</option>
                  <option value="03">March</option>
                  <option value="04">April</option>
                  <option value="05">May</option>
                  <option value="06">June</option>
                  <option value="07">July</option>
                  <option value="08">August</option>
                  <option value="09">September</option>
                  <option value="10">October</option>
                  <option value="11">November</option>
                  <option value="12">December</option>
                </select>
              </div>
              <div class="form-group">
                <label for="selectYear">Select Year</label>
                <select class="form-control" id="selectYear">
                  <!-- Populate years dynamically, change the range as needed -->
                  <option value="2023">2023</option>
                  <option value="2022">2022</option>
                  <option value="2021">2021</option>
                  <option value="2020">2020</option>
                  <!-- Add more years as required -->
                </select>
              </div>
              <button type="submit" class="btn btn-primary">Generate Report</button>
            </form>
          </div>
        </div>
        <!-- Placeholder for the report graph -->
        <div class="mt-4" id="salesChartContainer">
          <canvas id="salesChart" style="height: 400px;"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Large Modal for Report Graph -->
  <div class="modal fade bd-example-modal-lg" id="reportGraphModal" tabindex="-1" role="dialog"
    aria-labelledby="reportGraphModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="reportGraphModalLabel">Sales Report Graph</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- Placeholder for the report graph (same as above, placed here for modal display) -->
          <canvas id="modalSalesChart" style="height: 400px;"></canvas>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS and jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <!-- Sales Report Form Submission -->
  <script>
    $(document).ready(function () {
      $('#salesReportForm').submit(function (event) {
        event.preventDefault(); // Prevent the default form submission

        // Fetch selected month and year values
        var selectedMonth = $('#selectMonth').val();
        var selectedYear = $('#selectYear').val();

        // Simulated sales data (replace this with your actual data fetching logic)
        var salesData = [2000, 3500, 2800, 4000, 3200, 5000, 4200, 3800, 4500, 3000, 3800, 4200]; // Sales values for each month

        // Chart.js code to create a bar chart
        var ctx = document.getElementById('salesChart').getContext('2d');
        var salesChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
            datasets: [{
              label: 'Sales Data',
              data: salesData,
              backgroundColor: 'rgba(54, 162, 235, 0.5)',
              borderColor: 'rgba(54, 162, 235, 1)',
              borderWidth: 1
            }]
          },
          options: {
            scales: {
              yAxes: [{
                ticks: {
                  beginAtZero: true
                }
              }]
            }
          }
        });

        // Show the large-size modal containing the report graph
        $('#reportGraphModal').modal('show');
      });
    });
  </script>
</body>

</html>
